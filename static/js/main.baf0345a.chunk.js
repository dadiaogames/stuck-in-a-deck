(this["webpackJsonpstuck-in-a-deck"]=this["webpackJsonpstuck-in-a-deck"]||[]).push([[0],{45:function(e,a,t){e.exports=t(95)},50:function(e,a,t){},52:function(e,a,t){},89:function(e,a){},95:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),c=t(40),o=t.n(c),r=(t(50),t(43)),l=t(0),i=t(3),u=t(41),m=t.n(u),d={power:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/high-voltage-sign_26a1.png",style:{height:"1.1em"}}),hp:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/heavy-black-heart_2764.png",style:{height:"1.1em"}}),knowledge:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",style:{height:"1.1em"}}),search:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",style:{height:"1.1em"}}),atk:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",style:{height:"1.1em"}}),thread:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/hiking-boot_1f97e.png",style:{height:"1.1em"}}),card:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/flower-playing-cards_1f3b4.png",style:{height:"1.1em"}}),discard:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/wastebasket_1f5d1.png",style:{height:"1.1em"}})},h={k1:{desc:n.a.createElement("span",null,"+1 ",d.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:0,onPlay:function(e,a){e.knowledge+=1}},k2:{desc:n.a.createElement("span",null,"+2 ",d.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:3,onPlay:function(e,a){e.knowledge+=2}},k3:{desc:n.a.createElement("span",null,"+3 ",d.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:6,onPlay:function(e,a){e.knowledge+=3}},atk1:{desc:n.a.createElement("span",null,"+1 ",d.atk),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",price:2,onPlay:function(e,a){e.atk+=1}},atk2:{desc:n.a.createElement("span",null,"+2 ",d.atk),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",price:5,onPlay:function(e,a){e.atk+=2}},search1:{desc:n.a.createElement("span",null,"+1 ",d.search),price:2,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=1}},search2:{desc:n.a.createElement("span",null,"+2 ",d.search),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=2}},search3:{desc:n.a.createElement("span",null,"+3 ",d.search),price:8,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=3}}},p=[{desc:n.a.createElement("span",null,d.discard,": +2",d.card),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/test-tube_1f9ea.png",onUse:function(e,a,t){!function(e,a){e.hand=e.hand.filter((function(e){return e!=a}))}(e,t),f(e,a),f(e,a)}},{desc:n.a.createElement("span",null,d.power,": +3",d.card),price:4,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/memo_1f4dd.png",onUse:function(e,a,t){j(e,a)&&(f(e,a),f(e,a),f(e,a))}}],g=[{desc:n.a.createElement("span",null,"-2 ",d.hp),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/microsoft/209/imp_1f47f.png",hp:2,onPlay:function(e,a){!function(e,a,t){e.hp-=t,e.hp<=0&&(alert("You lose the game!"),E(e,a,e.tweakers))}(e,a,2)}}],w={desc:"PORTAL",src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/mozilla/36/door_1f6aa.png",hp:999,is_mob:!0,is_portal:!0,anger:0,onPlay:function(e,a,t){e.discard.push(Object(l.a)({},a.random.Shuffle(g)[0])),t.anger+=1,t.anger>=e.anger_threshold&&(t.anger=0,e.discard.push(Object(l.a)({},w)))}};function k(e){var a={hp:20,threads:0,goal:10};return b(a),a.deck=e.random.Shuffle([].concat(Object(i.a)(m.a.times(5,(function(){return h.k1}))),[h.k2,h.atk1,h.atk1,h.search1,h.search1,w])),a.hand=[],a.discard=[],a.shop=[].concat(Object(i.a)(p),Object(i.a)(Object.values(h))),a}function f(e,a){if(e.deck.length>0){console.log("Draw card");var t=e.deck.splice(0,1)[0];t.onPlay&&t.onPlay(e,a,t),e.hand.unshift(t)}}function b(e){e.power=1,e.knowledge=0,e.search=0,e.atk=0}function j(e,a){return e.power>0&&(e.power-=1,!0)}function E(e,a,t){e=k(a),t&&(e.tweakers=t,e=Object(l.a)(Object(l.a)({},e),t))}var v={setup:k,moves:{reset_and_tweak:E,end_turn:function(e,a){e.discard=[].concat(Object(i.a)(e.hand),Object(i.a)(e.discard)),e.hand=[],a.events.endTurn()},buy:function(e,a,t){var s=e.shop[t];(function(e,a,t){return e.knowledge>=t&&(e.knowledge-=t,!0)})(e,0,s.price)&&e.discard.push(Object(l.a)({},s))},use:function(e,a,t){var s=e.hand[t];s.onUse&&s.onUse(e,a,s)},search:function(e,a){j(e)&&(e.threads+=e.search),e.threads>=e.goal&&e.hp>0&&alert("You have successfully escaped the loop!")}},turn:{onBegin:function(e,a){b(e),e.deck.length<5&&(e.deck=a.random.Shuffle([].concat(Object(i.a)(e.deck),Object(i.a)(e.discard))),e.discard=[]);for(var t=0;t<5;t++)f(e,a)}}},y=t(8);t(52);function _(e){return n.a.createElement("div",{className:"card",style:{border:e.selected?"3px solid blue":void 0},onClick:e.handleClick},n.a.createElement("div",{className:"card-desc"},e.desc,e.price>=0?[n.a.createElement("br",null),"(",d.knowledge,e.price,")"]:void 0),n.a.createElement("div",{className:"card-container"},n.a.createElement("img",{className:"card-img",src:e.src})))}var z=Object(r.a)({game:v,board:function(e){var a=Object(s.useState)(!1),t=Object(y.a)(a,2),c=t[0],o=t[1],r=Object(s.useState)(-1),l=Object(y.a)(r,2),i=l[0],u=l[1],m=Object(s.useState)(-1),h=Object(y.a)(m,2),p=h[0],g=h[1],w="Use Card";if(c)w="Buy Card";else{var k=e.G.hand[i];k&&k.is_mob&&(w=n.a.createElement("span",null,"Attack(",d.power,")"))}var f=c?e.G.shop:e.G.hand,b=function(e){return c?p==e:i==e};return n.a.createElement("div",{className:"board"},n.a.createElement("button",{className:"game-button show-shop",onClick:function(){return o(!c)}},c?"Show Hand":"Show Shop"),n.a.createElement("div",{className:"cardrow"},f.map((function(e,a){return n.a.createElement(_,{desc:e.desc,src:e.src,selected:b(a),handleClick:function(){return function(e){return c?g(e):u(e)}(a)},price:c?e.price:void 0})}))),n.a.createElement("button",{className:"game-button use-card",onClick:function(){c?(e.moves.buy(p),o(!1),g(-1)):(e.moves.use(i),u(-1))}},w),n.a.createElement("button",{className:"game-button search",onClick:e.moves.search},"Search(",d.power,")"),n.a.createElement("button",{className:"game-button end-turn",onClick:e.moves.end_turn},"End Turn"),n.a.createElement("div",{className:"data"},d.power,":",e.G.power," \xa0\xa0",d.hp,":",e.G.hp," \xa0\xa0",d.knowledge,":",e.G.knowledge," \xa0\xa0",d.search,":",e.G.search," \xa0\xa0",d.atk,":",e.G.atk," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",d.thread,":",e.G.threads,"/",e.G.goal))}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.baf0345a.chunk.js.map