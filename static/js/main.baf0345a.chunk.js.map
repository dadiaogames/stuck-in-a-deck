{"version":3,"sources":["icons.js","cards.js","Game.js","enemies.js","Board.js","App.js","serviceWorker.js","index.js"],"names":["ICONS","power","src","style","height","hp","knowledge","search","atk","thread","card","discard","BASIC_CARDS","k1","desc","price","onPlay","G","ctx","k2","k3","atk1","atk2","search1","search2","search3","CARDS","onUse","hand","filter","x","draw","use_power","MOBS","amount","alert","reset_and_tweak","tweakers","deal_damage","PORTAL","is_mob","is_portal","anger","push","random","Shuffle","anger_threshold","setup","refresh_data","deck","_","times","shop","Object","values","length","console","log","splice","unshift","LDDBG","moves","end_turn","events","endTurn","buy","idx","use_knowledge","use","threads","goal","turn","onBegin","i","Card","props","className","border","selected","undefined","onClick","handleClick","App","Client","game","board","useState","show_shop","set_show_shop","hand_selected","set_hand_selected","shop_selected","set_shop_selected","use_card","selected_card","cards","map","select","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.baf0345a.chunk.js","sourcesContent":["import React from 'react';\n\nconst height = \"1.1em\";\n\nexport const ICONS = {\n  power: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/high-voltage-sign_26a1.png\" style={{height}}></img>,\n  hp: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/heavy-black-heart_2764.png\" style={{height}}></img>,\n  knowledge: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png\" style={{height}}></img>,\n  search: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png\" style={{height}}></img>,\n  atk: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png\" style={{height}}></img>,\n  thread: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/hiking-boot_1f97e.png\" style={{height}}></img>,\n  card: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/flower-playing-cards_1f3b4.png\" style={{height}}></img>,\n  discard: <img src=\"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/wastebasket_1f5d1.png\" style={{height}}></img>,\n};","import React from 'react';\nimport { discard, draw, use_power } from './Game';\nimport { ICONS } from './icons';\n\nexport const BASIC_CARDS = {\n  k1: {\n    desc: <span>+1 {ICONS.knowledge}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png\",\n    price: 0,\n    onPlay(G, ctx) {\n      G.knowledge += 1;\n    }\n  },\n  k2: {\n    desc: <span>+2 {ICONS.knowledge}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png\",\n    price: 3,\n    onPlay(G, ctx) {\n      G.knowledge += 2;\n    }\n  },\n  k3: {\n    desc: <span>+3 {ICONS.knowledge}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png\",\n    price: 6,\n    onPlay(G, ctx) {\n      G.knowledge += 3;\n    }\n  },\n  atk1: {\n    desc: <span>+1 {ICONS.atk}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png\",\n    price: 2,\n    onPlay(G, ctx) {\n      G.atk += 1;\n    }\n  },\n  atk2: {\n    desc: <span>+2 {ICONS.atk}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png\",\n    price: 5,\n    onPlay(G, ctx) {\n      G.atk += 2;\n    }\n  },\n  search1: {\n    desc: <span>+1 {ICONS.search}</span>,\n    price: 2,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png\",\n    onPlay(G, ctx) {\n      G.search += 1;\n    }\n  },\n  search2: {\n    desc: <span>+2 {ICONS.search}</span>,\n    price: 5,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png\",\n    onPlay(G, ctx) {\n      G.search += 2;\n    }\n  },\n  search3: {\n    desc: <span>+3 {ICONS.search}</span>,\n    price: 8,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png\",\n    onPlay(G, ctx) {\n      G.search += 3;\n    }\n  },\n};\n\nexport const CARDS = [\n  {\n    desc: <span>{ICONS.discard}: +2{ICONS.card}</span>,\n    price: 5,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/test-tube_1f9ea.png\",\n    onUse(G, ctx, card) {\n      discard(G, card);\n      draw(G, ctx);\n      draw(G, ctx);\n    }\n  },\n  {\n    desc: <span>{ICONS.power}: +3{ICONS.card}</span>,\n    price: 4,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/memo_1f4dd.png\",\n    onUse(G, ctx, card) {\n      if (use_power(G, ctx)) {\n        draw(G, ctx);\n        draw(G, ctx);\n        draw(G, ctx);\n      }\n    }\n  },\n];","import _ from 'lodash';\nimport { BASIC_CARDS, CARDS } from \"./cards\";\nimport { MOBS, PORTAL } from './enemies';\n\nfunction setup(ctx) {\n  const G = {};\n\n  G.hp = 20;\n  G.threads = 0;\n  G.goal = 10;\n  refresh_data(G);\n\n  G.deck = ctx.random.Shuffle([..._.times(5, ()=>BASIC_CARDS.k1), BASIC_CARDS.k2, BASIC_CARDS.atk1, BASIC_CARDS.atk1, BASIC_CARDS.search1, BASIC_CARDS.search1, PORTAL]);\n  G.hand = [];\n  G.discard = [];\n  G.shop = [...CARDS, ...Object.values(BASIC_CARDS)];\n\n  return G;\n}\n\nexport function draw(G, ctx) {\n  if (G.deck.length > 0) {\n    console.log(\"Draw card\");\n    let card = G.deck.splice(0, 1)[0];\n    card.onPlay && card.onPlay(G, ctx, card);\n    G.hand.unshift(card);\n  }\n}\n\nfunction refresh_data(G) {\n  G.power = 1;\n  G.knowledge = 0;\n  G.search = 0;\n  G.atk = 0;\n}\n\nfunction onTurnBegin(G, ctx) {\n  refresh_data(G);\n  if (G.deck.length < 5) {\n    G.deck = ctx.random.Shuffle([...G.deck, ...G.discard]);\n    G.discard = [];\n  }\n  for (let i=0; i<5; i++) {\n    draw(G, ctx);\n  }\n}\n\nexport function use_power(G, ctx) {\n  if (G.power > 0) {\n    G.power -= 1;\n    return true;\n  }\n  else {\n    return false;\n  }\n}\n\nfunction search(G, ctx) {\n  if (use_power(G, ctx)) {\n    G.threads += G.search;\n  }\n  if (G.threads >= G.goal && G.hp > 0) {\n    alert(\"You have successfully escaped the loop!\");\n  }\n}\n\nfunction use_knowledge(G, ctx, price) {\n  if (G.knowledge >= price) {\n    G.knowledge -= price;\n    return true;\n  }\n  else{return false;}\n}\n\nfunction end_turn(G, ctx) {\n  G.discard = [...G.hand, ...G.discard];\n  G.hand = [];\n\n  ctx.events.endTurn();\n}\n\nfunction buy(G, ctx, idx) {\n  let card = G.shop[idx];\n  if (use_knowledge(G, ctx, card.price)) {\n    G.discard.push({...card});\n  }\n}\n\nfunction use(G, ctx, idx) {\n  let card = G.hand[idx];\n  card.onUse && card.onUse(G, ctx, card);\n  // No exhaust, use infinite times if you like so\n}\n\nexport function deal_damage(G, ctx, amount) {\n  G.hp -= amount;\n  if (G.hp <= 0) {\n    alert(\"You lose the game!\");\n    reset_and_tweak(G, ctx, G.tweakers);\n  }\n}\n\nexport function reset_and_tweak(G, ctx, tweakers) {\n  G = setup(ctx);\n  if (tweakers) {\n    G.tweakers = tweakers;\n    G = {...G, ...tweakers};\n  }\n}\n\nexport function discard(G, card) {\n  G.hand = G.hand.filter(x => x != card);\n}\n\nexport const LDDBG = {\n  setup,\n  moves: {\n    reset_and_tweak,\n    end_turn,\n    buy,\n    use,\n    search,\n  },\n  turn: {\n    onBegin: onTurnBegin,\n  },\n};","import React from 'react';\nimport { deal_damage } from './Game';\nimport { ICONS } from './icons';\n\nexport const MOBS = [\n  {\n    desc: <span>-2 {ICONS.hp}</span>,\n    src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/microsoft/209/imp_1f47f.png\",\n    hp: 2,\n    onPlay(G, ctx) {\n      deal_damage(G, ctx, 2);\n    }\n  },\n];\nexport const PORTAL = {\n  desc: \"PORTAL\",\n  src: \"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/mozilla/36/door_1f6aa.png\",\n  hp: 999,\n  is_mob: true,\n  is_portal: true,\n  anger: 0,\n  onPlay(G, ctx, card) {\n    G.discard.push({...ctx.random.Shuffle(MOBS)[0]});\n    card.anger += 1;\n    if (card.anger >= G.anger_threshold) {\n      card.anger = 0;\n      G.discard.push({...PORTAL});\n    }\n  }\n};","import React, { useState } from 'react';\nimport { ICONS } from './icons';\n\nimport './Board.css';\n\nfunction Card(props) {\n  return <div className=\"card\" style={{border:(props.selected)?\"3px solid blue\":undefined}} onClick={props.handleClick}>\n    <div className=\"card-desc\">{props.desc}{(props.price>=0)?[<br/>, \"(\",ICONS.knowledge,props.price,\")\"]:undefined}</div>\n    <div className=\"card-container\" >\n      <img className=\"card-img\" src={props.src}></img>\n    </div>\n\n  </div>\n}\n\nexport function Board(props) {\n  let [show_shop, set_show_shop] = useState(false);\n  let [hand_selected, set_hand_selected] = useState(-1);\n  let [shop_selected, set_shop_selected] = useState(-1);\n\n  let use_card = \"Use Card\";\n  if (show_shop) {\n    use_card = \"Buy Card\";\n  }\n  else {\n    let selected_card = props.G.hand[hand_selected]\n    if (selected_card && selected_card.is_mob) {\n      use_card = <span>Attack({ICONS.power})</span>;\n    }\n  }\n\n  let handle_use_card = () => {\n    if (show_shop) {\n      props.moves.buy(shop_selected);\n      set_show_shop(false);\n      set_shop_selected(-1);\n    }\n    else {\n      props.moves.use(hand_selected);\n      set_hand_selected(-1);\n    }\n  };\n\n  let cards = show_shop?props.G.shop:props.G.hand;\n  let selected = (idx) => show_shop?(shop_selected == idx):(hand_selected == idx);\n  let select = (idx) => show_shop?set_shop_selected(idx):set_hand_selected(idx);\n\n  return <div className=\"board\">\n    <button className=\"game-button show-shop\" onClick={() => set_show_shop(!show_shop)}>{show_shop?\"Show Hand\":\"Show Shop\"}</button>\n    <div className=\"cardrow\">\n      {cards.map((card,idx) => <Card desc={card.desc} src={card.src} selected={selected(idx)} handleClick={() => select(idx)} price={show_shop?card.price:undefined} />)}\n    </div>\n    <button className=\"game-button use-card\" onClick={handle_use_card}>{use_card}</button>\n    <button className=\"game-button search\" onClick={props.moves.search}>Search({ICONS.power})</button>\n    <button className=\"game-button end-turn\" onClick={props.moves.end_turn}>End Turn</button>\n    <div className=\"data\">{ICONS.power}:{props.G.power} &nbsp;&nbsp;{ICONS.hp}:{props.G.hp} &nbsp;&nbsp;{ICONS.knowledge}:{props.G.knowledge} &nbsp;&nbsp;{ICONS.search}:{props.G.search} &nbsp;&nbsp;{ICONS.atk}:{props.G.atk} &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ICONS.thread}:{props.G.threads}/{props.G.goal}</div>\n  </div>;\n}\n","import { Client } from 'boardgame.io/react';\nimport { LDDBG } from './Game';\nimport { Board } from './Board';\n\n// import 'antd/dist/antd.css';\n\nconst App = Client({ \n  game: LDDBG, \n  board: Board,\n  // debug: false,\n});\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}