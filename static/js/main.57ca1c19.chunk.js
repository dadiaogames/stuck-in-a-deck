(this["webpackJsonpstuck-in-a-deck"]=this["webpackJsonpstuck-in-a-deck"]||[]).push([[0],{45:function(e,a,t){e.exports=t(95)},50:function(e,a,t){},52:function(e,a,t){},89:function(e,a){},95:function(e,a,t){"use strict";t.r(a);var s=t(1),n=t.n(s),c=t(40),o=t.n(c),r=(t(50),t(43)),i=t(0),l=t(3),u=t(41),d=t.n(u),m={power:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/high-voltage-sign_26a1.png",style:{height:"1.1em"}}),hp:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/heavy-black-heart_2764.png",style:{height:"1.1em"}}),knowledge:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",style:{height:"1.1em"}}),search:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",style:{height:"1.1em"}}),atk:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",style:{height:"1.1em"}}),thread:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/hiking-boot_1f97e.png",style:{height:"1.1em"}}),card:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/flower-playing-cards_1f3b4.png",style:{height:"1.1em"}}),discard:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/wastebasket_1f5d1.png",style:{height:"1.1em"}}),skull:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/microsoft/209/skull_1f480.png",style:{height:"1.1em"}}),deck:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/htc/37/bookmark-tabs_1f4d1.png",style:{height:"1.1em"}}),scissor:n.a.createElement("img",{src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/openmoji/252/scissors_2702.png",style:{height:"1.1em"}})},p={k1:{desc:n.a.createElement("span",null,"+1 ",m.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:0,is_treasure:!0,onPlay:function(e,a){e.knowledge+=1}},k2:{desc:n.a.createElement("span",null,"+2 ",m.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:3,is_treasure:!0,onPlay:function(e,a){e.knowledge+=2}},k3:{desc:n.a.createElement("span",null,"+3 ",m.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/docomo/205/electric-light-bulb_1f4a1.png",price:6,is_treasure:!0,onPlay:function(e,a){e.knowledge+=3}},atk1:{desc:n.a.createElement("span",null,"+1 ",m.atk),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",price:2,onPlay:function(e,a){e.atk+=1}},atk2:{desc:n.a.createElement("span",null,"+2 ",m.atk),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/crossed-swords_2694.png",price:5,onPlay:function(e,a){e.atk+=2}},search1:{desc:n.a.createElement("span",null,"+1 ",m.search),price:2,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=1}},search2:{desc:n.a.createElement("span",null,"+2 ",m.search),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=2}},search3:{desc:n.a.createElement("span",null,"+3 ",m.search),price:8,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/samsung/265/magnifying-glass-tilted-right_1f50e.png",onPlay:function(e,a){e.search+=3}}},h={desc:n.a.createElement("span",null,"YOU(+1",m.power,")",n.a.createElement("br",null),m.power,": +3",m.knowledge),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/older-man_1f474.png",onPlay:function(e,a,t){e.power+=1},onUse:function(e,a){E(e,a)&&(e.knowledge+=3)}},g=[{desc:n.a.createElement("span",null,m.discard,": +2",m.card),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/test-tube_1f9ea.png",onUse:function(e,a,t){z(e,t),y(e,a),y(e,a)}},{desc:n.a.createElement("span",null,m.power,": +3",m.card),price:4,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/memo_1f4dd.png",onUse:function(e,a,t){E(e,a)&&(y(e,a),y(e,a),y(e,a))}},{desc:n.a.createElement("span",null,m.power,": Put an [+2",m.knowledge,"] into your ",m.deck," "),price:4,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/bearded-person_emoji-modifier-fitzpatrick-type-1-2_1f9d4-1f3fb_1f3fb.png",onUse:function(e,a,t){E(e,a)&&e.deck.unshift(p.k2)}},{desc:n.a.createElement("span",null,m.power,": Purge an [+1",m.knowledge,"] card, +3",m.knowledge," "),price:4,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/whatsapp/238/black-scissors_2702.png",onUse:function(e,a,t){if(E(e,a)){var s=e.hand.find((function(e){return 0==e.price}));e.hand=e.hand.filter((function(e){return e!=s})),e.knowledge+=3}}},{desc:n.a.createElement("span",null,m.discard,": +1",m.power,", +2",m.knowledge),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/dancer_1f483.png",onUse:function(e,a,t){z(e,t),e.power+=1,e.knowledge+=2}},{desc:n.a.createElement("span",null,m.power,": Turn one of your [+X",m.knowledge,"] card into [+(X+1)",m.knowledge,"]"),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/orange-book_1f4d9.png",onUse:function(e,a,t){if(E(e,a)){var s=a.random.Shuffle(e.hand.filter((function(e){return e.is_treasure})))[0];s&&(s.desc=[s.desc,n.a.createElement("span",null," ,+1 ",m.knowledge)],s.onPlay=function(e,a){s.onPlay(e,a),e.knowledge+=1})}}},{desc:n.a.createElement("span",null,m.atk,"2: +4",m.search),price:3,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/google/263/man-running_1f3c3-200d-2642-fe0f.png",onUse:function(e,a,t){e.atk>=2&&(e.atk-=2,e.search+=4)}},{desc:n.a.createElement("span",null,m.search,"2: +4",m.atk),price:3,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/bow-and-arrow_1f3f9.png",onUse:function(e,a,t){e.search>=2&&(e.search-=2,e.atk+=4)}},{desc:n.a.createElement("span",null,m.knowledge,"3: +2",m.atk),price:3,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/fencer_1f93a.png",onUse:function(e,a,t){_(3)&&(e.atk+=2)}},{desc:n.a.createElement("span",null,m.knowledge,"3: +2",m.search),price:3,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/books_1f4da.png",onUse:function(e,a,t){_(3)&&(e.search+=2)}},{desc:n.a.createElement("span",null,m.discard,": +2",m.power),price:5,src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/apple/237/hourglass-with-flowing-sand_23f3.png",onUse:function(e,a,t){z(e,t),e.power+=2}}].map((function(e){return Object(i.a)(Object(i.a)({},e),{},{is_action:!0})}));function w(e,a,t){E(e,a)&&(t.hp-=e.atk,t.hp<=0&&(e.hand=e.hand.filter((function(e){return e!=t}))))}var k=[{desc:n.a.createElement("span",null,"-2",m.hp),src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/microsoft/209/imp_1f47f.png",hp:2,onPlay:function(e,a){!function(e,a,t){e.hp-=t,e.hp<=0&&(alert("You lose the game!"),v(e,a,e.tweakers))}(e,a,2)}}].map((function(e){return Object(i.a)(Object(i.a)({},e),{},{is_mob:!0,onUse:w})})),f={desc:"PORTAL",src:"https://emojipedia-us.s3.dualstack.us-west-1.amazonaws.com/thumbs/240/mozilla/36/door_1f6aa.png",hp:999,is_mob:!0,is_portal:!0,anger:0,onPlay:function(e,a,t){e.discard.push(Object(i.a)({},a.random.Shuffle(k)[0])),t.anger+=1,t.anger>=e.anger_threshold&&(t.anger=0,e.discard.push(Object(i.a)({},f)))}};function b(e){var a={hp:20,threads:0,goal:10,anger_threshold:4};return j(a),a.deck=e.random.Shuffle([].concat(Object(l.a)(d.a.times(5,(function(){return p.k1}))),[p.k2,p.atk1,p.atk1,p.search1,p.search1,f,h])),a.hand=[],a.discard=[],a.shop=[].concat(Object(l.a)(e.random.Shuffle(g).slice(0,9)),Object(l.a)(Object.values(p))).filter((function(e){return e.price>0})),a}function y(e,a){if(e.deck.length>0){console.log("Draw card");var t=e.deck.splice(0,1)[0];t.onPlay&&t.onPlay(e,a,t),e.hand.unshift(t)}}function j(e){e.power=1,e.knowledge=0,e.search=0,e.atk=0}function E(e,a){return e.power>0&&(e.power-=1,!0)}function _(e,a,t){return e.knowledge>=t&&(e.knowledge-=t,!0)}function v(e,a,t){e=b(a),t&&(e.tweakers=t,e=Object(i.a)(Object(i.a)({},e),t))}function z(e,a){e.hand=e.hand.filter((function(e){return e!=a}))}var O={setup:b,moves:{reset_and_tweak:v,tweak:function(e,a,t){for(var s in t)e[s]=t[s]},end_turn:function(e,a){e.discard=[].concat(Object(l.a)(e.hand),Object(l.a)(e.discard)),e.hand=[],a.events.endTurn()},buy:function(e,a,t){var s=e.shop[t];s&&_(e,0,s.price)&&e.discard.push(Object(i.a)({},s))},use:function(e,a,t){var s=e.hand[t];s&&s.onUse&&s.onUse(e,a,s)},search:function(e,a){E(e)&&(e.threads+=e.search),e.threads>=e.goal&&e.hp>0&&alert("You have successfully escaped the loop!")}},turn:{onBegin:function(e,a){j(e),e.deck.length<5&&(e.deck=a.random.Shuffle([].concat(Object(l.a)(e.deck),Object(l.a)(e.discard))),e.discard=[]);for(var t=0;t<5;t++)y(e,a)}}},P=t(6);t(52);function S(){alert('Welcome to Stuck In A Deck!\nYou are stuck in a deck, which when all deck cards are played and discarded, the discard pile will become the deck again, and cards are always looping between the deck and discard.\nYou, as a card, need to escape from this loop!\nHowever, here are some threads you can find about how to escape, if you Search.\n\nHow to play:\n* If you have played other deck building games like Dominion/Ascension/DreamQuests/SlayTheSpire, you will quickly get into this game.\n* The goal is to get enough threads(marked with a shoe).\n* To get threads, you need to Search, cost 1 power(marked with thunder), and gain threads equal to your search power(marked with a lens).\n* To reinforce your deck, you may use knowledge(marked with bulb) to buy cards from shop, you may buy any cards if you have enough knowledge.\n* To attack a mob, cost 1 power, and deal damage equal to your attack power.\n* The PORTAL will keep inserting new mobs into your deck, and when it inserts 4 times, a new PORTAL will be inserted into your deck, so escape as quickly as you can!\n* Cards got different ways to use. Cards with no ":" in desc effect when you draw them; Cards with ":" are in format "<cost>: <effect>", some cost a power, some may discard themselves(marked with bin), and some may cost your knowledge or other powers.')}function U(e){return n.a.createElement("div",{className:"card",style:{border:e.selected?"3px solid blue":void 0},onClick:e.handleClick},n.a.createElement("div",{className:"card-desc"},e.price>=0?["(",m.knowledge,e.price,")",n.a.createElement("br",null)]:void 0,e.desc,e.card.is_mob?[n.a.createElement("br",null),"(",m.hp,e.card.hp,")"]:void 0,e.card.is_portal?["(",m.skull,e.card.anger,"/",e.G.anger_threshold,")"]:void 0),n.a.createElement("div",{className:"card-container"},n.a.createElement("img",{className:"card-img",src:e.src})))}var C=Object(r.a)({game:O,board:function(e){var a=Object(s.useState)(!1),t=Object(P.a)(a,2),c=t[0],o=t[1],r=Object(s.useState)(-1),i=Object(P.a)(r,2),l=i[0],u=i[1],d=Object(s.useState)(-1),p=Object(P.a)(d,2),h=p[0],g=p[1],w=Object(s.useState)({goal:20,hp:20}),k=Object(P.a)(w,2),f=k[0],b=k[1],y="Use Card";if(c)y="Buy Card";else{var j=e.G.hand[l];j&&j.is_mob&&(y=n.a.createElement("span",null,"Attack(",m.power,")"))}var E=c?e.G.shop:e.G.hand,_=function(e){return c?h==e:l==e},v=function(a){var t=Math.ceil(3*Math.random()),s=Math.ceil(3*Math.random()),n=Object.assign({},f);a<0?(n.goal-=t,n.hp-=s):(n.goal+=t,n.hp+=s),e.reset(),e.moves.tweak(n),b(n)};return n.a.createElement("div",{className:"board"},n.a.createElement("button",{className:"game-button show-shop",onClick:function(){return o(!c)}},c?"Show Hand":"Show Shop"),n.a.createElement("div",{className:"cardrow"},E.map((function(a,t){return n.a.createElement(U,{desc:a.desc,src:a.src,selected:_(t),handleClick:function(){return function(e){return c?g(e):u(e)}(t)},price:c?a.price:void 0,card:a,G:e.G})}))),n.a.createElement("button",{className:"game-button use-card",onClick:function(){c?(e.moves.buy(h),g(-1),e.G.knowledge-e.G.shop[h].price<3&&o(!1)):(e.moves.use(l),u(-1))}},y),n.a.createElement("button",{className:"game-button search",onClick:e.moves.search},"Search(",m.power,")"),n.a.createElement("button",{className:"game-button end-turn",onClick:e.moves.end_turn},"End Turn"),n.a.createElement("div",{className:"data"},m.power,":",e.G.power," \xa0\xa0",m.hp,":",e.G.hp," \xa0\xa0",m.knowledge,":",e.G.knowledge," \xa0\xa0",m.search,":",e.G.search," \xa0\xa0",m.atk,":",e.G.atk," \xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",m.thread,":",e.G.threads,"/",e.G.goal),n.a.createElement("button",{className:"game-button use-card",onClick:S},"How to play"),n.a.createElement("button",{className:"game-button",onClick:function(){return v(-1)}},"Easier"),n.a.createElement("button",{className:"game-button",onClick:function(){return v(1)}},"Harder"))}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);
//# sourceMappingURL=main.57ca1c19.chunk.js.map